<!DOCTYPE html>
<html>
  <head>
    <title>Project BBQ</title>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- <script>
        $(function(){
            $("#navbar-frame").load("/navbar.html");
        });
    </script> -->
  </head>

  <body>
    <div id="navbar-frame"></div>

    <div class="container">
      <div class="mt-5">
        <span class="display-4">Thank you for the purchase</span>
      </div>

      <div class="mt-3" id="orderplacement"></div>
      <div class="font-weight-bold" id="order"></div>
      <div class="mt-3" id="deliveryplacement"></div>
      <div class="font-weight-bold" id="deliverydate"></div>
      <div class="mt-3" id="timeplacement"></div>
      <div class="font-weight-bold" id="deliverytime"></div>
    </div>
  </body>

  <script>
    $(document).ready(function() {

      window.onload = function getOrderId() {
        $("#navbar-frame").load("./navbar.html");
        let serviceURL = "http://DESKTOP-OK24Q1B:8087/ordersdone";

        let orderPlacement = document.getElementById("orderplacement");
        let orderId = document.getElementById("order");

        let deliveryPlacement = document.getElementById("deliveryplacement");
        let deliveryDate = document.getElementById("deliverydate");

        let timePlacement = document.getElementById("timeplacement");
        let deliveryTime = document.getElementById("deliverytime");

        fetch(serviceURL)
          .then(res => res.json())
          .then(data => {
            let orderid = data.orderid;
            let date = data.delivery_date;
            let time = data.delivery_time;
            orderPlacement.append(`Your Order ID is:`);
            orderId.append(orderid);

            deliveryPlacement.append(`Your Delivery Date will be on:`);
            deliveryDate.append(date);

            timePlacement.append(`Your Delivery Time will be on:`);
            deliveryTime.append(time);
          })
          .catch(error => console.log(error));
      };
    });
  </script>
</html>
